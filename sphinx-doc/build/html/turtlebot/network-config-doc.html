

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Network Configuration &mdash; Gaitech Doc 2.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/gaitech32.jpg"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Gaitech Doc 2.5 documentation" href="../index.html"/>
        <link rel="up" title="Turtlebot Quick Start Tutorials" href="turtlebot-tutorials.html"/>
        <link rel="next" title="Turtlebot Simulators" href="turtlebot_simulators.html"/>
        <link rel="prev" title="Turtlebot Quick Start Tutorials" href="turtlebot-tutorials.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Gaitech Doc
          

          
            
            <img src="../_static/gaitechlogo150.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../ros/ros-background.html">ROS Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ros/ros-programming-basics.html">Getting Started with ROS Programming</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="turtlebot-tutorials.html">Turtlebot Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Network Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="turtlebot_simulators.html">Turtlebot Simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="teleop-doc.html">Keyboard Teleop</a></li>
<li class="toctree-l2"><a class="reference internal" href="turtlebot-first-tests.html">First Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="speech-doc.html">Speech Recognition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../drones/index.html">Drones Tutorials</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Gaitech Doc</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="turtlebot-tutorials.html">Turtlebot Quick Start Tutorials</a> &raquo;</li>
      
    <li>Network Configuration</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/turtlebot/network-config-doc.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="network-configuration">
<span id="network-config-doc"></span><h1>Network Configuration<a class="headerlink" href="#network-configuration" title="Permalink to this headline">Â¶</a></h1>
<p>This tutorial will introduce to you how to chat with your turtlebot robot.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Make sure that you completed installing all the required packets in the previous tutorials.</p>
</div>
<p>ROS offer the ability to have a two way communication network between different ROS nodes. All what you have to do is to know the IP address for the ROS master node and the IPs for other ROS nodes.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">For Ubuntu users: to know the IP address for your device in the network you are connected to, you can open a terminal and type &#8220;ifconfig&#8221; and you will find something similar to the following:</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">lo</span>        <span class="n">Link</span> <span class="n">encap</span><span class="p">:</span><span class="n">Local</span> <span class="n">Loopback</span>
       <span class="n">inet</span> <span class="n">addr</span><span class="p">:</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>  <span class="n">Mask</span><span class="p">:</span><span class="mf">255.0</span><span class="o">.</span><span class="mf">0.0</span>
       <span class="n">inet6</span> <span class="n">addr</span><span class="p">:</span> <span class="p">::</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span> <span class="n">Scope</span><span class="p">:</span><span class="n">Host</span>
       <span class="n">UP</span> <span class="n">LOOPBACK</span> <span class="n">RUNNING</span>  <span class="n">MTU</span><span class="p">:</span><span class="mi">16436</span>  <span class="n">Metric</span><span class="p">:</span><span class="mi">1</span>
       <span class="n">RX</span> <span class="n">packets</span><span class="p">:</span><span class="mi">6658055</span> <span class="n">errors</span><span class="p">:</span><span class="mi">0</span> <span class="n">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="n">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="n">frame</span><span class="p">:</span><span class="mi">0</span>
       <span class="n">TX</span> <span class="n">packets</span><span class="p">:</span><span class="mi">6658055</span> <span class="n">errors</span><span class="p">:</span><span class="mi">0</span> <span class="n">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="n">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="n">carrier</span><span class="p">:</span><span class="mi">0</span>
       <span class="n">collisions</span><span class="p">:</span><span class="mi">0</span> <span class="n">txqueuelen</span><span class="p">:</span><span class="mi">0</span>
       <span class="n">RX</span> <span class="nb">bytes</span><span class="p">:</span><span class="mi">587372914</span> <span class="p">(</span><span class="mf">587.3</span> <span class="n">MB</span><span class="p">)</span>  <span class="n">TX</span> <span class="nb">bytes</span><span class="p">:</span><span class="mi">587372914</span> <span class="p">(</span><span class="mf">587.3</span> <span class="n">MB</span><span class="p">)</span>

<span class="sb">`wlan1`</span>   <span class="n">Link</span> <span class="n">encap</span><span class="p">:</span><span class="n">Ethernet</span>  <span class="n">HWaddr</span> <span class="mi">48</span><span class="p">:</span><span class="mi">5</span><span class="n">d</span><span class="p">:</span><span class="mi">60</span><span class="p">:</span><span class="mi">75</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">90</span>
       <span class="n">inet</span> <span class="n">addr</span><span class="p">:</span><span class="sb">`10.0.129.17`</span>  <span class="n">Bcast</span><span class="p">:</span><span class="mf">10.0</span><span class="o">.</span><span class="mf">129.255</span>  <span class="n">Mask</span><span class="p">:</span><span class="mf">255.255</span><span class="o">.</span><span class="mf">254.0</span>
       <span class="n">inet6</span> <span class="n">addr</span><span class="p">:</span> <span class="n">fe80</span><span class="p">::</span><span class="mi">4</span><span class="n">a5d</span><span class="p">:</span><span class="mi">60</span><span class="n">ff</span><span class="p">:</span><span class="n">fe75</span><span class="p">:</span><span class="mi">5890</span><span class="o">/</span><span class="mi">64</span> <span class="n">Scope</span><span class="p">:</span><span class="n">Link</span>
       <span class="n">UP</span> <span class="n">BROADCAST</span> <span class="n">RUNNING</span> <span class="n">MULTICAST</span>  <span class="n">MTU</span><span class="p">:</span><span class="mi">1500</span>  <span class="n">Metric</span><span class="p">:</span><span class="mi">1</span>
       <span class="n">RX</span> <span class="n">packets</span><span class="p">:</span><span class="mi">101983</span> <span class="n">errors</span><span class="p">:</span><span class="mi">0</span> <span class="n">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="n">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="n">frame</span><span class="p">:</span><span class="mi">0</span>
       <span class="n">TX</span> <span class="n">packets</span><span class="p">:</span><span class="mi">37244</span> <span class="n">errors</span><span class="p">:</span><span class="mi">0</span> <span class="n">dropped</span><span class="p">:</span><span class="mi">0</span> <span class="n">overruns</span><span class="p">:</span><span class="mi">0</span> <span class="n">carrier</span><span class="p">:</span><span class="mi">0</span>
       <span class="n">collisions</span><span class="p">:</span><span class="mi">0</span> <span class="n">txqueuelen</span><span class="p">:</span><span class="mi">1000</span>
       <span class="n">RX</span> <span class="nb">bytes</span><span class="p">:</span><span class="mi">49326141</span> <span class="p">(</span><span class="mf">49.3</span> <span class="n">MB</span><span class="p">)</span>  <span class="n">TX</span> <span class="nb">bytes</span><span class="p">:</span><span class="mi">7588044</span> <span class="p">(</span><span class="mf">7.5</span> <span class="n">MB</span><span class="p">)</span>
</pre></div>
</div>
<p>the highlighted network is the one you are connected to and the highlighted IP address is your device&#8217;s IP.</p>
<p>The next part maybe a little bit tricky: To be able to use ROS in any project/environment you must have a ROS master node which is the main node that a user can communicate with either in the same device or by another devices.
All you have to do is to specify in the <code class="docutils literal"><span class="pre">/.bashrc</span></code> file the IP address for the Master node and the host node (the other device).</p>
<p>Open the <code class="docutils literal"><span class="pre">/.bashrc</span> <span class="pre">file</span></code> in the PC that has the master node and connected to the turtlebot robot. Scroll to the bottom of the file and add these lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1">#The localhost IP address</span>
<span class="n">export</span> <span class="n">ROS_MASTER_URI</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">11311</span>
<span class="c1">#The IP address for the Master node</span>
<span class="n">export</span> <span class="n">ROS_HOSTNAME</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">8.101</span>
</pre></div>
</div>
<p>In the your PC (the host device) open the <code class="docutils literal"><span class="pre">/.bashrc</span></code> file and scroll to the bottom of the file and add these lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">ros</span><span class="o">/</span><span class="n">indigo</span><span class="o">/</span><span class="n">setup</span><span class="o">.</span><span class="n">bash</span>
<span class="c1">#The IP address for the Master node</span>
<span class="n">export</span> <span class="n">ROS_MASTER_URI</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">8.100</span><span class="p">:</span><span class="mi">11311</span>
<span class="c1">#The IP address for your device/host IP address</span>
<span class="n">export</span> <span class="n">ROS_HOSTNAME</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">8.101</span>
<span class="c1">#The IP address for your device/host IP address</span>
<span class="n">export</span> <span class="n">ROS_IP</span><span class="o">=</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">8.101</span>
</pre></div>
</div>
<p>Try to run the following command in your Master node (the one connected to the turtlebot):</p>
<p><code class="docutils literal"><span class="pre">roscore</span></code></p>
<p>In your host node type this command:</p>
<p><code class="docutils literal"><span class="pre">rostopic</span> <span class="pre">list</span></code></p>
<p>to test whether the connection is established and the host node can communicate with the Master node or not.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the connection is successful you will be able to see a list of all the ROS topics published from the Master node if it fails then make sure that the ROS_MASTER_URI is set to the right value.</p>
</div>
<p>To check whether the Master node can receive data from the host node run this command in a host node terminal:</p>
<p><code class="docutils literal"><span class="pre">rostopic</span> <span class="pre">pub</span> <span class="pre">-r10</span> <span class="pre">/hello</span> <span class="pre">std_msgs/String</span> <span class="pre">&quot;hello&quot;</span></code></p>
<p>on the Maser node run the following command in a new terminal:</p>
<p><code class="docutils literal"><span class="pre">rostopic</span> <span class="pre">echo</span> <span class="pre">/hello</span></code></p>
<p>The message &#8220;hello&#8221; should appear about 10 times per second.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If something is wrong with executing the previous step, make sure that the ROS_HOSTNAME in the host node is correct.</p>
</div>
<p>In case you faced any strange behaviour from the robot during transmitting data from a host node to the Master node, you can download:</p>
<p>Chrony:  <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">chrony</span></code>
or
manually sync NTP: <code class="docutils literal"><span class="pre">sudo</span> <span class="pre">ntpdate</span> <span class="pre">ntp.ubuntu.com</span></code></p>
<p>to fix the Clock synchronization problem.</p>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="turtlebot_simulators.html" class="btn btn-neutral float-right" title="Turtlebot Simulators" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="turtlebot-tutorials.html" class="btn btn-neutral" title="Turtlebot Quick Start Tutorials" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Gaitech.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>