.. gaitech documentation master file, created by
   sphinx-quickstart on Sun May  8 09:56:52 2016.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

.. _ros-turtlesim:
==============================
Turtlesim Cleaning Application
==============================

In this tutorial, you will learn more advanced concepts on ROS by developing a first application on ROS using the Turtlesim simulator.
The objective of the application is to emulate a cleaning application like Vaccum cleaning robots (e.g. Roomba). 
The robot should cover the whole area to be cleaned. 
For this, we will develop, step-by-step, several functions to make the robot move straight and rotate and use these functions in developing the cleaning application.
You can then extend this application to make it even smarter and more comprehensive.  


.. warning:: 
   It is assumed that you already know the main concepts on ROS including ROS topics, ROS nodes, ROS messages and ROS services. 
   If not, you need to first take the first tutorials on :ref:`ROS Background <ros-bakground>` and :ref:`ROS Programming Basics <ros-programming>`. 
 

.. NOTE:: The following tutorial aims at introducing necessary and fundamental concepts of ROS beyond the simple talker/listener tutorial, like navigation, motion control, distance estimation, rotated angle estimation, and some ROS packages including TF. 
   This tutorial consists of a series of fives videos that you need to watch in order to get the main lessons and outcomes. 
   The tutorial could be completed in 2 to 4 hours. 
   
.. Warning:: It would be appreciated if you already have some background knowledge on introductory robotics courses. As pre-requisite, you should already know what a 2D/3D frame is, and what a transformation between frame is, in addition to basic knowledge on 2D kinematics.  

Lecture 1: Introducing the Cleaning Application
===============================================
In this video, you will:

   * understand the objectives and tasks of the turtlesim cleaning applications
   * recognize the different functions to be developed for the clearning application 

.. youtube:: qtVDso-iBNA



Lecture 2: Moving in a Straight Line
====================================
In this video, you will learn:

   * How to develop the simplest program with ROS
   * How to publish a message to a ROS topic using C++ and Python
   * How to subscribe a message to a ROS topic using C++ and Python
   * How to configure ``CMakeLists.txt`` and ``package.xml`` to add new required packages for compilation and runtime
   * How to run a program in ROS

.. youtube:: PGZMlzBlMmw

Lecture 3: Rotating Left and Right
==================================
In this video, you will learn:

   * How to develop the simplest program with ROS
   * How to publish a message to a ROS topic using C++ and Python
   * How to subscribe a message to a ROS topic using C++ and Python
   * How to configure ``CMakeLists.txt`` and ``package.xml`` to add new required packages for compilation and runtime
   * How to run a program in ROS
   
.. youtube:: Ddqwq2WXFEk
   
Lecture 4: Go to Goal Location (PID Controller)
===============================================
In this video, you will learn:

   * How to develop the simplest program with ROS
   * How to publish a message to a ROS topic using C++ and Python
   * How to subscribe a message to a ROS topic using C++ and Python
   * How to configure ``CMakeLists.txt`` and ``package.xml`` to add new required packages for compilation and runtime
   * How to run a program in ROS

.. youtube:: Qh15Nol5htM


Lecture 5: Grid and Spiral Cleaning Application
===============================================
In this video, you will learn:

   * How to develop the simplest program with ROS
   * How to publish a message to a ROS topic using C++ and Python
   * How to subscribe a message to a ROS topic using C++ and Python
   * How to configure ``CMakeLists.txt`` and ``package.xml`` to add new required packages for compilation and runtime
   * How to run a program in ROS

.. youtube:: ehH8oLfsz-w

Review Questions
================
   * Write the C++/Python instruction that creates a new topic called chatter of type String?
   * Write the C++/Python instruction that effectively publishes a message on the chatter topic?
   * How to add a new exectuable in ``CMakeLists.txt`` and ``package.xml`` to be able to compile and run a C++ ROS program?
   * How to declare a topic subscriber in C++/Python?
   * What is the role of the subscriber callback function? 
   * in C++, what is the difference between ``std_msgs::String::ConstPtr`` and ``std_msgs::String``? 






