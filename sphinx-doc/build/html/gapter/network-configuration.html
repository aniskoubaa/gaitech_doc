

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GAPTER: Network Configuration and Connection &mdash; Gaitech EDU 2.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/gaitech32.jpg"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Gaitech EDU 2.5 documentation" href="../index.html"/>
        <link rel="up" title="Gapter Drone Documentation" href="index.html"/>
        <link rel="next" title="GAPTER: Pre-Flight Configurations" href="preflight-configurations.html"/>
        <link rel="prev" title="GAPTER: Building and Configuring Autopilot" href="building-and-configuring-autopilot.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Gaitech EDU
          

          
            
            <img src="../_static/gaitechlogo150.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/get-started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ros/ros-tutorials.html">ROS Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../turtlebot/turtlebot-tutorials.html">Turtlebot Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drones/index.html">Drones Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Gapter Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview-and-features.html">Gapter Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="assembly.html">Gapter Assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="building-and-configuring-autopilot.html">Building and Configuring the Autopilot</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Network Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#wifi-hotspot-mode">WiFi Hotspot Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wifi-infrastructure-mode">WiFi Infrastructure Mode</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step1-specify-the-wifi-network">STEP1. Specify the WiFi Network</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step2-modify-network-interfaces">STEP2. Modify Network Interfaces</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="preflight-configurations.html">Pre-Flight Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="first-flight-tests.html">First Flight Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="software-tutorials.html">Software Tutorials</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contributors/index.html">Contributors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Gaitech EDU</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Gapter Drone Documentation</a> &raquo;</li>
      
    <li>GAPTER: Network Configuration and Connection</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/gapter/network-configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gapter-network-configuration-and-connection">
<span id="network-configuration"></span><h1>GAPTER: Network Configuration and Connection<a class="headerlink" href="#gapter-network-configuration-and-connection" title="Permalink to this headline">¶</a></h1>
<p>To provide flexibility to end-users, Gapter provides two possible network configuration modes:</p>
<ul class="simple">
<li><strong>WiFi Hotspot mode:</strong> In this mode, the copter creates an adhoc network named <code class="docutils literal"><span class="pre">gapternet</span></code> that the user can connect to it through its compter or laptop using <code class="docutils literal"><span class="pre">ssh</span></code>.</li>
<li><strong>WiFi infrastructure mode:</strong> in this mode, the copter connects to a WiFi router network that must be specified in advance. Users then can connect to the copter using <code class="docutils literal"><span class="pre">ssh</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to connect Gapter to Internet, then you must use the <strong>infrastructure</strong> mode.
If you want to have point-to-point communication with Gapter, then use the <strong>WiFi Hotspot</strong> mode.</p>
</div>
<div class="section" id="wifi-hotspot-mode">
<h2>WiFi Hotspot Mode<a class="headerlink" href="#wifi-hotspot-mode" title="Permalink to this headline">¶</a></h2>
<p>By default, Gapter comes with a WiFi hotspot.
In this case, to connect to Gapter, you need to look for available WiFi networks, and connect to <code class="docutils literal"><span class="pre">gapternet</span></code> network.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Remember that in this mode, there is no Internet connection.</p>
</div>
<p>Once this is done, you just need to use <code class="docutils literal"><span class="pre">ssh</span></code> to connect to the drone as follow through a terminal.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>ssh gapter@10.0.0.1
</pre></div>
</div>
<p>Note that the default ip address of gapter is <code class="docutils literal"><span class="pre">10.0.0.1</span></code>, and your laptop connects to that <code class="docutils literal"><span class="pre">gapternet</span></code>,
it will be assigned th IP address <code class="docutils literal"><span class="pre">10.0.0.2</span></code>.
You will be request for a password. The password is <code class="docutils literal"><span class="pre">gaitech</span></code>.</p>
<p>Now you are connected to the copter and you can navigate inside the ubuntu file system, run ROS programs, etc.</p>
<p>As mentioned before, this mode does not have Internet connection. So, you cannot do any operation that requires Internet.
If you need Internet to download new packages or software inside Gapter, you need to configure the WiFi infrastructure mode as explained below.</p>
</div>
<div class="section" id="wifi-infrastructure-mode">
<h2>WiFi Infrastructure Mode<a class="headerlink" href="#wifi-infrastructure-mode" title="Permalink to this headline">¶</a></h2>
<p>To work in WiFi infrastructure mode, you first need to have a WiFi router to which the copter will connect.</p>
<p>The connection to the WiFi network will use <code class="docutils literal"><span class="pre">wpa_supplicant</span></code> network configuration tool.</p>
<div class="section" id="step1-specify-the-wifi-network">
<h3>STEP1. Specify the WiFi Network<a class="headerlink" href="#step1-specify-the-wifi-network" title="Permalink to this headline">¶</a></h3>
<p>First, connect to Gapter in hotspot mode, and in the terminal write:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>wpa_passphrase network-ssid network-password
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Change the name of the ssid and the password of the network, with your network credentials.</p>
</div>
<p>You will get an output similar to</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span> <span class="nv">network</span><span class="o">={</span>
   <span class="nv">ssid</span><span class="o">=</span><span class="s2">&quot;ssid-name&quot;</span>
   <span class="c1">#psk=&quot;password&quot;</span>
   <span class="nv">psk</span><span class="o">=</span>9b3dfa68a71033a672d01c961c03415ae47bfd8cadede26127be40aab43b5c75
<span class="o">}</span>
</pre></div>
</div>
<p>Then, save this into a file called <code class="docutils literal"><span class="pre">wpa_supplicant.conf</span></code> as follows:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo nano /boot/wpa_supplicant.conf
</pre></div>
</div>
<p>The nano terminal command editor will open, and you need to edit or copy/paste the network information into that file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We saved  <code class="docutils literal"><span class="pre">wpa_supplicant.conf</span></code> in the /boot/ directory so that you can edit this file from your laptop on the MicroSD card without having to login again to the copter and change the network configuration of the WiFi infrastructure network.
To do so, just insert the MicroSD card into your laptop, edit the file by putting the information of the new network you want to connect to, and put the MicroSD card back to the copter.
In the next restart, the copter will automatically connect to the new WiFi network.</p>
</div>
</div>
<div class="section" id="step2-modify-network-interfaces">
<h3>STEP2. Modify Network Interfaces<a class="headerlink" href="#step2-modify-network-interfaces" title="Permalink to this headline">¶</a></h3>
<p>Gapter was pre-configured to work in a WiFi hostpost. We need to change the interfaces defined in <code class="docutils literal"><span class="pre">/etc/network/interfaces</span></code> to enable the infastructure mode.
When you are connected to Gapter in Hotspot mode, in the terminal edit the <code class="docutils literal"><span class="pre">/etc/network/interfaces</span></code> file as follow:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo nano /etc/network/interfaces
</pre></div>
</div>
<p>You will the following configuration that corresponds to the default hotspot mode:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#for loopback interface</span>
auto lo
iface lo inet loopback

<span class="c1">#for ethernet</span>
auto eth0
iface eth0 inet dhcp

<span class="c1">#for wifi in hotspot mode</span>
auto wlan0
iface wlan0 inet static
address <span class="m">10</span>.0.0.1
netmask <span class="m">255</span>.255.255.0
</pre></div>
</div>
<p>To enable the WiFi infrastructure, we need to change the specification of <code class="docutils literal"><span class="pre">wlan0</span></code> as follow</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="c1">#for loopback interface</span>
auto lo
iface lo inet loopback

<span class="c1">#for ethernet</span>
auto eth0
iface eth0 inet dhcp

<span class="c1">#for wifi in hotspot mode</span>
allow-hotplug wlan0
iface wlan0 inet dhcp
wpa-conf /boot/wpa_supplicant.conf

<span class="c1">#default route</span>
iface default inet dhcp
</pre></div>
</div>
<p>With these changes, when you restart Gapter, it will automatically connect to the WiFi network defined in <code class="docutils literal"><span class="pre">/boot/wpa_supplicant.conf</span></code>.
The IP address of the copter will be assigned automatically by the WiFi router, as DHCP is used.</p>
<p>It is possible to define a <code class="docutils literal"><span class="pre">static</span></code> or <code class="docutils literal"><span class="pre">manual</span></code> IP address, byt DHCP dynamic IP address assignment is recommended.
Now, your drone is connected to Internet and you can download any software or package from Internet.
In addition, you can make your drone streams MAVLink data to a server on the Internet.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When WiFi instructure is configured, remember that you can easily modify the network to which you want to connect, by simply
inserting the MicroSD card into your laptop and access the file <code class="docutils literal"><span class="pre">/boot/wpa_supplicant.conf</span></code> and modify network setting by editingt it.
In the next restart, Gapter will automatically connect to the new network.</p>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="preflight-configurations.html" class="btn btn-neutral float-right" title="GAPTER: Pre-Flight Configurations" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="building-and-configuring-autopilot.html" class="btn btn-neutral" title="GAPTER: Building and Configuring Autopilot" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Gaitech.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54522619-2', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>