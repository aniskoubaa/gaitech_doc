

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GAPTER: Ball Tracking &mdash; Gaitech EDU 2.5 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/gaitech32.jpg"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Gaitech EDU 2.5 documentation" href="../index.html"/>
        <link rel="up" title="GAPTER: Software Tutorials" href="software-tutorials.html"/>
        <link rel="next" title="GAPTER: ROS Tutorials" href="gapter-ros-tutorials.html"/>
        <link rel="prev" title="GAPTER: Set-up GapterSim Environment" href="setup-simulation-environment.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Gaitech EDU
          

          
            
            <img src="../_static/gaitechlogo150.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/get-started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ros/ros-tutorials.html">ROS Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roslink/index.html">ROSLink</a></li>
<li class="toctree-l1"><a class="reference internal" href="../turtlebot/turtlebot-tutorials.html">Turtlebot Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drones/index.html">Drones Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Gapter Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview-and-features.html">Gapter Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="precautions-warning.html">Precautions &amp; Warning</a></li>
<li class="toctree-l2"><a class="reference internal" href="assembly.html">Gapter Assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="gapter-calibration.html">Gapter Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="internal-hardware-connections.html">Internal Hardware Connection</a></li>
<li class="toctree-l2"><a class="reference internal" href="network-configuration.html">Network Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="preflight-configurations.html">Pre-Flight Configurations</a></li>
<li class="toctree-l2"><a class="reference internal" href="first-flight-tests.html">First Flight Test</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="software-tutorials.html">Software Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gapter-brain-software-suite.html">Gapter Brain Software Suite</a></li>
<li class="toctree-l3"><a class="reference internal" href="gapter-simulation.html">Simulation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Ball Tracking</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisite">Prerequisite</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-ball-tracking-code">Get ball tracking code</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-the-code">Run the code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gapter-ros-tutorials.html">ROS Tutorials</a></li>
<li class="toctree-l3"><a class="reference internal" href="gapter-mavlink-tutorials.html">MAVLink Tutorials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../video/index.html">Video Streaming Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dronemap/index.html">Dronemap Planner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributors/index.html">Contributors</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Gaitech EDU</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Gapter Drone Documentation</a> &raquo;</li>
      
          <li><a href="software-tutorials.html">GAPTER: Software Tutorials</a> &raquo;</li>
      
    <li>GAPTER: Ball Tracking</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/gapter/gapter-ball-tracking.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gapter-ball-tracking">
<span id="gapter-target-tracking"></span><h1>GAPTER: Ball Tracking<a class="headerlink" href="#gapter-ball-tracking" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In this tutorial you will learn how to:</p>
<blockquote>
<div><ul class="simple">
<li>run ball tracking code with gapter</li>
</ul>
</div></blockquote>
<p class="last">For any query, please feel free to post your questions in the <a class="reference external" href="http://forum.gaitech.hk/">Gaitech EDU Forum</a></p>
</div>
<div class="section" id="prerequisite">
<h2>Prerequisite<a class="headerlink" href="#prerequisite" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://gist.github.com/bigsnarfdude/7305c8d8335c7cfc91888485a33d9bd9">Opencv 2.4</a></li>
<li><a class="reference external" href="https://github.com/jrosebr1/imutils">imutils</a></li>
</ul>
</div>
<div class="section" id="get-ball-tracking-code">
<h2>Get ball tracking code<a class="headerlink" href="#get-ball-tracking-code" title="Permalink to this headline">¶</a></h2>
<p>Download the ball tracking code from <a class="reference external" href="https://github.com/aniskoubaa/gaitech_edu/tree/master/src/ball_tracking">Github</a></p>
</div>
<div class="section" id="run-the-code">
<h2>Run the code<a class="headerlink" href="#run-the-code" title="Permalink to this headline">¶</a></h2>
<p>After running the Gapter Simulator, in a new terminal run following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python ball_tracking.py
</pre></div>
</div>
<p>You will see the following screen:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/ball-tracking-frame.png"><img alt="../_images/ball-tracking-frame.png" src="../_images/ball-tracking-frame.png" style="width: 400pt;" /></a>
</div>
<p>It will run with default camera of computer, can be easily changed for other camera. If ball is green press ‘c’ on image window, or place the ball inside the rectanglar region and press ‘a’, press ‘n’ to re-calibrate and space-bar for pause, ‘q’ for quiting. If you have a green ball, you can hold it in as in the following screen:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/ball-tracking-frame-with-ball.png"><img alt="../_images/ball-tracking-frame-with-ball.png" src="../_images/ball-tracking-frame-with-ball.png" style="width: 400pt;" /></a>
</div>
<p>After presing ‘c’, another window with a mask will appear:</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/ball-tracking-mask.png"><img alt="../_images/ball-tracking-mask.png" src="../_images/ball-tracking-mask.png" style="width: 400pt;" /></a>
</div>
<p>Now in a new terminal run:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ python pid_control.py
</pre></div>
</div>
<p>You can now move the ball, and see your Gapter following it. You can use rqt_plot to visualize current position using following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$  rqt_plot /mavros/setpoint_velocity/cmd_vel/twist/linear/x:y:z
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/ball-tracking-rqt-plot.png"><img alt="../_images/ball-tracking-rqt-plot.png" src="../_images/ball-tracking-rqt-plot.png" style="width: 400pt;" /></a>
</div>
<div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
<iframe src="http://www.youtube.com/embed/f8y7W9EQw8k" style="border: 0; height: 345px; width: 560px">
</iframe></div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="gapter-ros-tutorials.html" class="btn btn-neutral float-right" title="GAPTER: ROS Tutorials" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setup-simulation-environment.html" class="btn btn-neutral" title="GAPTER: Set-up GapterSim Environment" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Gaitech.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.5',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54522619-2', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>