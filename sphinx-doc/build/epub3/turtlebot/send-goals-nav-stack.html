<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Sending Goals to the Navigation Stack</title>
    
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> 
  </head>
  <body role="document">

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="free-space-navigation.html" title="Turtlebot Free Space Navigation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="create-map-kenict.html" title="Building a Map with a Turtlebot"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Gaitech EDU 2.5 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="turtlebot-tutorials.html" accesskey="U">Turtlebot Quick Start Tutorials</a> &raquo;</li> 
      </ul>
    </div>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="sending-goals-to-the-navigation-stack">
<span id="send-goals-nav-stack"></span><h1>Sending Goals to the Navigation Stack</h1>
<p>In this tutorial you will learn how to send destination goals to your robot through the navigation stack without crashing in any obstacle that maybe in the robot&#8217;s world. We will use the RViz as a simulator to test our programs first. The user will have the option either to set the goal by clicking on the location on the map and the robot has to deal with the rest or by setting the goal by writing a code for the robot which is the aim of this tutorial.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Make sure that you completed installing all the required packages in the previous tutorials, your network set-up is working fine between the ROS Master node and the host node and your navigation stack is working properly.</p>
</div>
<div class="section" id="create-a-package">
<h2>Create a Package</h2>
<p>You need to create a file for the program in the following directory <code class="docutils literal"><span class="pre">src/turtlebot/navigation/map_navigation/map_navigation.cpp</span></code> (src/turtlebot/navigation/map_navigation/scripts/map_navigation.py in Python) and write the following. The code is well commented so no need for furthur explanation:</p>
</div>
<div class="section" id="build-the-package-and-run-it">
<h2>Build the package and Run it</h2>
<p>In order to build up your file you just created need to edit your <code class="docutils literal"><span class="pre">CMakeLists.txt</span></code> file. Open the file and add the following lines to the bottom of the file.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>add_executable(map_navigation src/turtlebot/navigation/map_navigation/map_navigation.cpp)
target_link_libraries(map_navigation ${catkin_LIBRARIES})
</pre></div>
</div>
<p>Build your workspace:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>catkin_make
</pre></div>
</div>
<p>After that you need to start your Navigation Stack and check that the name of the action is similar to what we wrote in the program above or not:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>rostopic list <span class="p">|</span> grep move_base/goal
</pre></div>
</div>
<p>If you saw some results then you have no errors otherwise just change the name of the action in the <code class="docutils literal"><span class="pre">map_navigation.cpp</span></code> file to match the one in the robot navigation stack.</p>
<p>Then run the executable file you created before:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>rosrun gaitech_doc map_navigation
</pre></div>
</div>
<p>And you will notice your robot moving forward for 1 meter.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>


    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Gaitech.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54522619-2', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>